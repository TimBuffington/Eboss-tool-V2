import streamlit as st
from utils.theme import apply_theme, render_logo
from utils.state import ensure_state
from utils.data import SPECS
from utils.sizing import calculate_load_specs

apply_theme(); ensure_state(); render_logo()
st.header("Technical Specs")

st.dataframe(SPECS, use_container_width=True)

model = st.selectbox("EBOSS Model", [v["eboss_model"] for v in SPECS.values()])
eb_type = st.selectbox("EBOSS Type", ["Full Hybrid","Power Module"])
cont_kw = st.number_input("Continuous Load (kW)", min_value=0.0, step=0.1, format="%g")
peak_kw = st.number_input("Max Peak Load (kW)", min_value=0.0, step=0.1, format="%g")

if st.button("Calculate"):
    specs = calculate_load_specs(model, eb_type, cont_kw, peak_kw, gen_kva=None)
    st.json(specs)

